{% extends "base.html" %}

{% block title %}GAME OF LIFE{% endblock %}

{% block content %}
<div class="bg-primary-100 min-h-[calc(100vh-30px)] p-8 font-primary">
  <div class="text-5xl text-primary-800 font-bold mt-20">üïπÔ∏è GAME OF LIFE</div>
  <div class="text-2xl mt-5 mb-10">Click to build your own pattern or random reset !</div>

  <div>
    <button id="start" class="btn btn-primary mb-3">Start Game</button>
    <button id="stop" class="btn btn-danger mb-3">Stop Game</button>
    <button id="reset" class="btn btn-warning mb-3">Random Reset</button>
    <button id="clear" class="btn btn-warning mb-3">Clear Game</button>
  </div>

  <div class="mb-3">
    <input id="pattern-name" class="form-control d-inline-block w-auto" placeholder="Nom du pattern (ex: glider1)">
    <button id="save-pattern" class="btn btn-success mb-1">Save</button>

    <select id="pattern-select" class="form-select d-inline-block w-auto">
      <option value="">-- choisir un pattern --</option>

      <!-- Patterns enregistr√©s : rempli en JS -->
      <optgroup label="Enregistr√©s" id="saved-optgroup"></optgroup>

      <!-- Patterns g√©n√©riques -->
      <optgroup label="G√©n√©riques">
        {% for name in patterns %}
          <option value="gen:{{ name }}">{{ name }}</option>
        {% endfor %}
      </optgroup>
    </select>

    <button id="load-pattern" class="btn btn-info mb-1">Load</button>
  </div>

  <div id="grid-container" class="mb-3"></div>
</div>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('game_of_life.static', filename='css/projet_game_of_life.css') }}">
{% endblock %}

{% block js %}
<script>
  // exposer l‚ÄôURL de base au JS
  window.GOL_BASE_URL = "{{ url_for('game_of_life.home') }}";  // ex "/projects/game_of_life/"
</script>
<script src="{{ url_for('game_of_life.static', filename='js/game_of_life.js') }}"></script>
{% endblock %}
