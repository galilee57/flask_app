{% from "components/info_modal.html" import info_modal %}
{% from "components/typography.html" import hero %}
{% from "components/ui.html" import button %}
{% from "components/exp_content.html" import content_card %}
{% from "components/exp_card.html" import small_card %}

<!DOCTYPE html>
<html lang="{{ current_lang() }}">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}PORTEFOLIO{% endblock %}</title>

  <!-- Tailwind compilé -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}">

  <!-- Css spécifique -->
  {% block css %}{% endblock %}
</head>

<body class="bg-white font-secondary">

  <!-- NAVBAR -->
  {% include "components/layout/nav.html" %}

  <!-- CONTENU -->
  <main class="pb-24 lg:pt-20 lg:pb-0">
    {% block content %}{% endblock %}
  </main>

  <!-- JS Spécifique -->
  {% block js %}{% endblock %}

  <!--  Resources -->
  {% if resources %}
    {% include "components/layout/resources.html" %}
  {% endif %}

  <!-- Footer -->
  {% include "components/layout/footer.html" %}

  <!-- JS MENU MOBILE -->
  <script>
    (() => {
      const btn = document.getElementById("mobileMenuBtn");
      const menu = document.getElementById("mobileMenu");
      const openIcon = document.getElementById("iconOpen");
      const closeIcon = document.getElementById("iconClose");

      const toggle = (open) => {
        menu.classList.toggle("hidden", !open);
        openIcon.classList.toggle("hidden", open);
        closeIcon.classList.toggle("hidden", !open);
      };

      btn.addEventListener("click", e => {
        e.stopPropagation();
        toggle(menu.classList.contains("hidden"));
      });

      document.addEventListener("click", () => toggle(false));
      menu.addEventListener("click", e => e.stopPropagation());
    })();
  </script>

</body>
</html>
